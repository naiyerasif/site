---
import Time from "./Time.astro";
import { postPathname } from "../modules/website/index.js";
import { PostType } from "../modules/schema/defs.js";

const { entry } = Astro.props;
const path = postPathname(entry.id);
const { id, label } = PostType[entry.data.type];
---

<div class="card" data-post-type={id}>
	<div class="card-meta">
		<span class="chip chip-note">{label}</span>
		<Time date={entry.data.date} />
	</div>
	<div class="card-body">
		<div class="card-header">
			<a href={path}>{entry.data.title}</a>
		</div>
		{entry.data.tagline ?
			<div class="card-tagline">{entry.data.tagline}</div> :
			<div class="card-description">{entry.data.description}</div>}
	</div>
</div>
