<!-- source: https://rapha.land/ -->
<svg class="trail" viewBox="0 0 1450 529" style="width: 1450px; height: 529px;">
	<path d="M 513 518 L 513.0000000000001 517.9999999999999 L 513.0000000000002 517.9999999999998 L 513.0000000000003 517.9999999999997 L 513.0000000000005 517.9999999999995 L 513.0000000000006 517.9999999999994 L 513.0000000000007 517.9999999999993 L 513.0000000000008 517.9999999999992 L 513.0000000000009 517.9999999999991 L 513.000000000001 517.999999999999 L 513.0000000000011 517.9999999999989 L 513.0000000000013 517.9999999999987 L 513.0000000000014 517.9999999999986 L 513.0000000000015 517.9999999999985 L 513.0000000000016 517.9999999999984 L 513.0000000000017 517.9999999999983 L 513.0000000000018 517.9999999999982 L 513.0000000000019 517.9999999999981 L 513.000000000002 517.999999999998 L 513.0000000000022 517.9999999999978 L 513.0000000000023 517.9999999999977 L 513.0000000000024 517.9999999999976 L 513.0000000000025 517.9999999999975 L 513.0000000000026 517.9999999999974 L 513.0000000000027 517.9999999999973 L 513.0000000000028 517.9999999999972 L 513.000000000003 517.999999999997 L 513.0000000000031 517.9999999999969 L 513.0000000000032 517.9999999999968 L 513.0000000000033 517.9999999999967 L 513.0000000000034 517.9999999999966 L 513.0000000000035 517.9999999999965 L 513.0000000000036 517.9999999999964 L 513.0000000000038 517.9999999999962 L 513.0000000000039 517.9999999999961 L 513.000000000004 517.999999999996 L 513.0000000000041 517.9999999999959 L 513.0000000000042 517.9999999999958 L 513.0000000000043 517.9999999999957 L 513.0000000000044 517.9999999999956 L 513.0000000000045 517.9999999999955 L 513.0000000000047 517.9999999999953 L 513.0000000000048 517.9999999999952 L 513.0000000000049 517.9999999999951 L 513.000000000005 517.999999999995 L 513.0000000000051 517.9999999999949 L 513.0000000000052 517.9999999999948 L 513.0000000000053 517.9999999999947 L 513.0000000000055 517.9999999999945 L 513.0000000000056 517.9999999999944 L 513.0000000000057 517.9999999999943 L 513.0000000000058 517.9999999999942 L 513.0000000000059 517.9999999999941 L 513.000000000006 517.999999999994 L 513.0000000000061 517.9999999999939 L 513.0000000000063 517.9999999999937 L 513.0000000000064 517.9999999999936 L 513.0000000000065 517.9999999999935 L 513.0000000000066 517.9999999999934 L 513.0000000000067 517.9999999999933 L 513.0000000000068 517.9999999999932 L 513.0000000000069 517.9999999999931 L 513.000000000007 517.999999999993 L 513.0000000000072 517.9999999999928 L 513.0000000000073 517.9999999999927 L 513.0000000000074 517.9999999999926 L 513.0000000000075 517.9999999999925 L 513.0000000000076 517.9999999999924 L 513.0000000000077 517.9999999999923 L 513.0000000000078 517.9999999999922 L 513.000000000008 517.999999999992 L 513.0000000000081 517.9999999999919 L 513.0000000000082 517.9999999999918 L 513.0000000000083 517.9999999999917 L 513.0000000000084 517.9999999999916 L 513.0000000000085 517.9999999999915 L 513.0000000000086 517.9999999999914 L 513.0000000000088 517.9999999999912 L 513.0000000000089 517.9999999999911 L 513.000000000009 517.999999999991 L 513.0000000000091 517.9999999999909 L 513.0000000000092 517.9999999999908 L 513.0000000000093 517.9999999999907 L 513.0000000000094 517.9999999999906 L 513.0000000000095 517.9999999999905 L 513.0000000000097 517.9999999999903 L 513.0000000000098 517.9999999999902 L 513.0000000000099 517.9999999999901 L 513.00000000001 517.99999999999 L 513.0000000000101 517.9999999999899 L 513.0000000000102 517.9999999999898 L 513.0000000000103 517.9999999999897 L 513.0000000000105 517.9999999999895 L 513.0000000000106 517.9999999999894 L 513.0000000000107 517.9999999999893 L 513.0000000000108 517.9999999999892 L 513.0000000000109 517.9999999999891 L 513.000000000011 517.999999999989 L 513.0000000000111 517.9999999999889 L 513.0000000000113 517.9999999999887"/>
</svg>

<script>
const noMotionPref = window.matchMedia("(prefers-reduced-motion: no-preference)");
const hasHighRefreshRate = window.matchMedia("(update: fast)");
const hasViewTransitionSupport = "startViewTransition" in document && typeof document.startViewTransition === "function";
if (noMotionPref && hasHighRefreshRate && hasViewTransitionSupport) {
	const svg = document.querySelector("svg.trail");
	const path = svg.querySelector("path");

	let points = [];
	let segments = 100;
	let mouse = {
		x: 0,
		y: 0,
	};

	const move = (event) => {
		const x = event.clientX;
		const y = event.clientY;

		mouse.x = x;
		mouse.y = y;

		if (points.length === 0) {
			for (let i = 0; i < segments; i++) {
				points.push({
					x: x,
					y: y,
				});
			}
		}
	};

	const anim = () => {
		let px = mouse.x;
		let py = mouse.y;

		points.forEach((p, index) => {
			p.x = px;
			p.y = py;

			let n = points[index + 1];

			if (n) {
				px = px - (p.x - n.x) * 0.6;
				py = py - (p.y - n.y) * 0.6;
			}
		});

		path.setAttribute("d", `M ${points.map((p) => `${p.x} ${p.y}`).join(` L `)}`);

		requestAnimationFrame(anim);
	};

	const resize = () => {
		const ww = window.innerWidth;
		const wh = window.innerHeight;

		svg.style.width = ww + "px";
		svg.style.height = wh + "px";
		svg.setAttribute("viewBox", `0 0 ${ww} ${wh}`);
	};

	document.addEventListener("mousemove", move);
	window.addEventListener("resize", resize);

	anim();
	resize();
}
</script>

<style>
svg.trail {
	position: fixed;
  top: 0;
  left: 0;
  z-index: 1000;
  pointer-events: none;
}

svg.trail path {
  fill: none;
  stroke: var(--y-accent-color);
  stroke-width: 8px;
  stroke-linecap: round;
  stroke-linejoin: round;
}
</style>
