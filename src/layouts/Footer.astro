---
import Icon from "../components/Icon.astro";
import IconPack from "../components/IconPack.astro";
import BackToTop from "../components/BackToTop.astro";
import siteInfo from "../modules/website/index.js";

const authorInfo = siteInfo.author;
const authorNetworks = authorInfo.networks;
const siteAuthor = authorInfo.name;
const siteIssueUrl = siteInfo.issueBase;
---

<footer class="footer">
	<div class="intro">
		<random-message selector=".quote">
			<div class="quote">
				<p>You can stop scrolling now. Take a break and relax.</p>
				<cite>&mdash; Author of this site</cite>
			</div>
			<div class="quote" hidden>
				<p>Sometimes the best way to follow your dreams is to take a nap.</p>
				<cite>&mdash; <a href="https://fediverse.zachleat.com/@zachleat/111902455317042997" rel="nofollow noopener noreferrer">Zach Leatherman</a></cite>
			</div>
			<div class="quote" hidden>
				<p>Finiteness is a feature.</p>
				<cite>&mdash; Author of this site</cite>
			</div>
			<div class="quote" hidden>
				<p>Recharge before a reattempt.</p>
				<cite>&mdash; Author of this site</cite>
			</div>
		</random-message>
	</div>
	<div class="info">
		<div class="subscribe">
			<Icon name="rss" style="color:var(--x2-color-deter)"/>
			<strong>Subscribe with RSS</strong>
			(<small><a href="https://aboutfeeds.com/" rel="nofollow noopener noreferrer">What&CloseCurlyQuote;s RSS?</a></small>)
			<ul>
				<li><a href="/feed.xml">Just posts</a></li>
				<li><a href="/all.xml">Posts + statuses</a></li>
			</ul>
		</div>
		<div class="shortcuts">
			<Icon name="keyboard" style="color:var(--x2-color-assert)"/>
			<strong>Keyboard Shortcuts</strong>
			<ul>
				<li><kbd>ctrl+k</kbd> or <kbd>cmd+k</kbd> : launch command bar</li>
				<li><kbd>esc</kbd> : close command bar</li>
			</ul>
		</div>
		<footer-preferences>
			<Icon name="preferences" style="color:var(--x2-color-warn)"/>
			<strong>Preferences</strong>
			<ul>
				<li>
					<theme-switcher>
						Current theme: 
						<a role="switch" aria-live="polite" aria-checked="true" data-theme-switch id="footer-theme-switcher" href="#footer-theme-switcher">
							<span data-theme-state="dark">Dark</span>
							<span data-theme-state="light">Light</span>
						</a>
					</theme-switcher>
				</li>
			</ul>
		</footer-preferences>
	</div>
	<div class="outro">
		<div class="copyright">&copy; 2018 &mdash; today, {siteAuthor}</div>
		<div class="socials">
			<a href={authorNetworks.mastodon.link} aria-label={authorNetworks.mastodon.platform} rel="noopener noreferrer"><Icon name="mastodon"/></a>
			<a href={authorNetworks.github.link} aria-label={authorNetworks.github.platform} rel="noopener noreferrer"><Icon name="github"/></a>
			<a href={authorNetworks.linkedin.link} aria-label={authorNetworks.linkedin.platform} rel="noopener noreferrer"><Icon name="linkedin"/></a>
		</div>
		<div class="extras">
			<a href={siteIssueUrl} rel="nofollow noopener noreferrer">Report an issue</a>
			<a href="/privacy/">Privacy</a>
			<a href="/sitemap-index.xml">Sitemap</a>
		</div>
	</div>
</footer>
<aside class="floating-back-to-top">
	<BackToTop/>
</aside>
<IconPack/>

<script>
class FooterPreferences extends HTMLElement {
	static register(tagName = "footer-preferences") {
		if ("customElements" in window) {
			customElements.define(tagName, FooterPreferences);
		}
	}
}
FooterPreferences.register();
</script>
